{
  "Environment": "Production",

  // Values specified here can be overriden in the following places (in order of processing - last wins)
  // - ~/appsettings.{Environment}.json - Where {Environment} is from ASPNETCORE_ENVIRONMENT env var
  // - {AppData}/smtp4dev/appsettings.json - Where {AppData} is value of --baseappdatapath command line option (default: APPDATA env var on Windows or XDG_CONFIG_HOME on non-Windows)
  // - Environmment variables in format "ServerOptions:HostName" (Windows) or "ServerOptions__HostName" (Other platforms)
  // - Command line arguments - Specify --help for documentation.

  "ServerOptions": {

    // Locks settings from being changed by user via web interface
    // Default value: false
    "LockSettings": false,

    // Specifies the virtual path from web server root where SMTP4DEV web interface will be hosted. e.g. "/" or "/smtp4dev"
    // Default value: "/"
    "BasePath": "/",

    // Specifies the server hostname. Used in auto-generated TLS certificate if enabled.
    // Default value: <DNS name of machine>
    //"HostName": "localhost",

    // Set the port the SMTP server listens on. Specify 0 to assign automatically
    // Default value: 25
    "Port": 25,

    // Specifies if remote connections will be allowed to the SMTP and IMAP servers
    // Default value: true
    "AllowRemoteConnections": true,

    // Specifies the path where the database will be stored relative to APPDATA env var on Windows or XDG_CONFIG_HOME on non-Windows. Specify "" to use an in memory database.
    // Default value: "database.db"
    "Database": "database.db",

    // Specifies the number of messages to keep
    // Default value: 100
    "NumberOfMessagesToKeep": 100,

    // Specifies the number of sessions to keep
    // Default value: 100
    "NumberOfSessionsToKeep": 100,

    // Specifies the TLS mode to use. Valid options are: None, StartTls or ImplicitTls.
    // Default value: "None"
    "TlsMode": "None",

    // Specifies the TLS certificate to use if TLS is enabled/requested. Specify "" to use an auto-generated self-signed certificate (then see console output on first startup)
    // Default value: ""
    "TlsCertificate": "",
    //Specifies the TLS certificate password. Specify "" if the certificate is not password-protected.
    //Default value: ""
    "TlsCertificatePassword": "",

    // Specify location of the Certificate private .key file.  Ignored if TlsCertificate is blank.
    //"TlsCertificatePrivateKey":  "", 

    // Specifies the port the IMAP server will listen on - allows standard email clients to view/retrieve messages
    "ImapPort": 143,

    //Disables message HTML sanitisation. Dangerous if your messages are not generated by you
    //and not reflective of how messages might render in most email client.
    //Default value: false
    "DisableMessageSanitisation": false,
    
    // True if the SMTP session will require authentication
    // The client will recieve an error if a message is attempted without authentication.
    "AuthenticationRequired": false,
    
    // True if the SMTP session will require a secure connection.
    // The client will recieve an error if a message is attempted without TLS - this must be enabled separately.
    "SecureConnectionRequired": false,
    
    // A JavaScript expression used to validate credentials
    // The return value is a boolean value where true will accept the credentials.
    // The variable `credentials` refers to the credentials that were presented. See:
    // https://github.com/rnwood/smtpserver/tree/master/Rnwood.SmtpServer/Extensions/Auth
    //
    // Examples:
    // credentials.Type == 'USERNAME_PASSWORD' && credentials.username == 'rob' && credentials.password == 'pass'
    "CredentialsValidationExpression": "",

    // A JavaScript expression used to validate recipients
    // The return value is a boolean value where true will accept the recipient.
    // The variable 'recipient' refers to the current recipient (one call per recipient)
    // The variable `session` refers to the the current session:
    // For available properties see https://github.com/rnwood/smtp4dev/blob/master/Rnwood.Smtp4dev/ApiModel/Session.cs
    //
    // Examples
    // recipient == "foo@bar.com"
    // - Accepts this recipient only
    // recipient != "foo@bar.com"
    // - Rejects this recipient only
    "RecipientValidationExpression": "",

    // A JavaScript expression used to validate message to determine if the server will accept it.
    // The return value is a boolean value where true will accept the message.
    //If the return value is a number it will be used as response code
    //If the return value is a string, it will be used as an error response message
    // The variable 'message' refers to the current message   
    // For available properties see https://github.com/rnwood/smtp4dev/blob/master/Rnwood.Smtp4dev/ApiModel/Message.cs
    // The variable `session` refers to the the current session:
    // For available properties see https://github.com/rnwood/smtp4dev/blob/master/Rnwood.Smtp4dev/ApiModel/Session.cs
    // The function error(code: number, message: string) returns a specific SMTP error and message immediately.
    // Examples
    // !message.subject.includes("19")
    // - Rejects messages that include in the subject
    // message.subject.includes("19") ? 441 : null
    // - Rejects messages that include 19 with a 441, otherwise accepts
    "MessageValidationExpression": ""
  },

  "RelayOptions": {

    // Sets the name of the SMTP server that will be used to relay messages or \"\" if messages relay should not be allowed
    // Default value: ""
    "SmtpServer": "",

    // Sets the port number for the SMTP server used to relay messages.
    // Default value: 25
    "SmtpPort": 25,

    // Sets the TLS mode when connecting to relay SMTP server
    // See: http://www.mimekit.net/docs/html/T_MailKit_Security_SecureSocketOptions.htm
    // Default value: Auto
    "TlsMode": "Auto",

    // Specifies a list of recipient addresses for which messages will be relayed automatically. An empty list means that no messages are relayed.
    // Default value: []
    "AutomaticEmails": [],
    
    // A JavaScript expression that determines if the message should be relayed automatically to the specified recipient.
    // The return value should be a string or array of strings with the overriden recipients.
    // As a shortcut, true can be returned and the original recpient will be used
    // The variable 'recipient' refers to the current recipient (one call per recipient)
    // The variable `message` refers to the the current messgage:
    // For available properties see https://github.com/rnwood/smtp4dev/blob/master/Rnwood.Smtp4dev/ApiModel/Message.cs
    // The variable `session` refers to the the current session:
    // For available properties see https://github.com/rnwood/smtp4dev/blob/master/Rnwood.Smtp4dev/ApiModel/Session.cs
    //
    // Examples:
    // message.subject.includes('QP')
    // - If message includes QP in the subject then relay to original recipient
    // recipient.replace(/@mailinator.com$/,'@smtp4dev.com')
    // - Relay all messages to their original recipient except those to @mailinator.com, which are relayed instead to @smtp4dev.com
    // message.subject.includes('QP') ? 'newrecip@test.com' : null
    // - If message includes QP in the subject then relay to newrecip@test.com, otherwise don't relay
    //  message.subject.includes('QP') ? 'newrecip@test.com' : recipient
    // - If message includes QP in the subject then relay to newrecip@test.com, otherwise relay to original recpient
    "AutomaticRelayExpression": "",

    // Specifies the address used in MAIL FROM when relaying messages. (Sender address in message headers is left unmodified). The sender of each message is used if not specified.
    // Default value: ""
    "SenderAddress": "",

    // The username for the SMTP server used to relay messages. If \"\" no authentication is attempted.
    // Default value: ""
    "Login": "",

    // The password for the SMTP server used to relay messages
    "Password": ""
  },

  "Serilog": {
    "Using": [ "Serilog", "Serilog.Sinks.Console" ],
    "MinimumLevel": {
      "Default": "Information",
      "Override": {
        // For detailed diagnostics set to Information
        "Microsoft": "Warning",
        "Microsoft.EntityFrameworkCore": "Warning"
      }
    },
    "WriteTo": [
      {
        "Name": "Console",
        "args": {
          "outputTemplate": "{Message:lj}{NewLine}{Exception}"
        }
      }
    ],
    "Properties": {
      "ApplicationName": "Smtp4Dev"
    }
  },
  "ClientOptions": {
    "PageSize": 30
  }
}